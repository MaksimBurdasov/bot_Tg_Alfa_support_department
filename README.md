# bot_Tg_Alfa_support_department

## Для кого этот бот?
Бот cоздавался для автоматизации моих задач при работе в отделе тех. поддержки АльфаБанка.

## 1. Как он работает?
1. Бот запускается, запрашивает у ТГ информацию о новых событиях.
2. Из всех событий обрабатываются только соощения (события, содержащие объект Message), в которых содержатся команды.
В одном сообщении команд может быть одна или несколько, бот обработает их все.
3. Реакция бота зависит от содержания команды.

Возможные результаты обработки команды:
+ справочный текст,
+ выгрузка из базы данных,
+ запуск процесса,
+ сообщение с ошибкой.


## 2. Описание возможностей
Классификация команд по целям использользования:
+ информирование (отправляют сообщение с текстом),
+ создание выгрузки,
+ запуск процесса.

Команды информирования отправляют сообщение с текстом.

Команды выгрузки создают xlsx-файл с результатом запроса к базе данных
и отправляют этот файл в чат с комментарием вида "Выгрузка готова: ".

Команды запуска какого-либо процесса используются, например, для перезагрузки указанного сервиса.
После выполнения в чат отправляется текстовый статус, с которым выполнился процесс (успех или ошибка).


Доступные команды:
+ /start и /help - справка по списку доступных команд
+ /rep_FILE - инструкция по использованию команды вида /rep_
+ /rep_<название sql-файла> - xlsx-файл с выгрузкой	сервера
+ /show_sql_dir - список sql-файлов, которые может выполнить бот
+ /kill_NUMBER - инструкция по использованию команды вида /kill_
+ /kill_<номер процесса> - результат попытки прерывания процесса	(успех или ошибка)
+ /rst_APP - инструкцию по использованию команды вида /rst_
+ /rst_<алиас приложения> - результат попытки перезагрузки приложения	(успех или ошибка)
